<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#ff8fb2" />
  <title>MafiaCats â€“ Game (Dataâ€‘driven v0.91 â€“ opgeschoond)</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{ --accent:#ff8fb2; --accent-600:#ff6f9c; --lav:#cdb4f5; }
    body{ background:#fff6f8; font-family:'Outfit',sans-serif; color:#2e2a2c; }
    .panel{ background:#fff; border:1px solid #f4d4e0; border-radius:1rem; box-shadow:0 4px 16px rgba(0,0,0,.05); }
    .btn{ font-weight:600; transition:.15s; }
    .btn:hover{ transform:translateY(-2px); box-shadow:0 6px 18px rgba(0,0,0,.1); }
    .bar{ height:8px; border-radius:999px; background:#ffe1ec; overflow:hidden }
    .bar>i{ display:block; height:100%; background:linear-gradient(90deg, var(--accent), var(--lav)); }
    .xbar{ height:6px; border-radius:999px; background:#f7e7ef; overflow:hidden }
    .xbar>i{ display:block; height:100%; background:linear-gradient(90deg, #ffc1d6, #cdb4f5); }
    .tag{ font-size:.72rem; padding:.25rem .55rem; border-radius:.7rem; background:#ffe3ef; border:1px solid #ffcfe2; color:#7d2a4b; }
    .mono{ font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace; }
    .pill{ font-size:.72rem; padding:.1rem .5rem; border-radius:.7rem; background:#ffe7f0; border:1px solid #ffd4e6; color:#7d2a4b; }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <!-- De rest van de HTML-layout is ongewijzigd gebleven -->

  <script>
    // Snelle query helpers
    const $=(s,r=document)=>r.querySelector(s); const $$=(s,r=document)=>Array.from(r.querySelectorAll(s));
    const SAVE_KEY='mafiacats_data_v091';

    // Lock tegen spamclicks
    let actionLock=false; function withLock(fn){ if(actionLock) return; actionLock=true; try{ fn(); } finally{ setTimeout(()=>actionLock=false, 600); } }

    // Load en Save helpers (enkelvoudig, dubbele definitie verwijderd)
    function save(){ localStorage.setItem(SAVE_KEY, JSON.stringify(state)); toast('ğŸ’¾ Opgeslagen'); }
    function load(){ try{ const raw=localStorage.getItem(SAVE_KEY); return raw?JSON.parse(raw):null }catch{return null} }

    // Globale state
    const state = load() || {
      name:'',cash:10,hp:9,en:100,rep:0,heat:0,day:1,
      xp:{}, gear:{ bag:[], equipped:[] },
      seed:Math.floor(Math.random()*1e9), asielUntil:0
    };

    // ==== CATALOGI: gear en acties ====
    const GEAR_CATALOG = {
      pistol:   { key:'pistol',   label:'ğŸ”« Pistool (+10%, 3 uses)', bonus:0.10, uses:3, price:16 },
      lockpick: { key:'lockpick', label:'ğŸ—ï¸ Lockpick-set (+6%, 5 uses)', bonus:0.06, uses:5, price:12 },
      shovel:   { key:'shovel',   label:'â›ï¸ Schep (+4%, 8 uses)', bonus:0.04, uses:8, price:14 },
    };

    // Alle acties in 1 object gegroepeerd
    const ACTIONS = {
      overvallen: [
        {key:'visboer', type:'heist', name:'Jat vis bij de visboer', emoji:'ğŸŸ', base:0.38, cost:10, payout:[4,9], rep:2, heatS:6, heatF:8, hpF:1, arrest:0.18, minutes:1, allowGear:true},
        {key:'keukenkast', type:'heist', name:'Inbreken in keukenkast', emoji:'ğŸ½ï¸', base:0.30, cost:12, payout:[6,13], rep:3, heatS:8, heatF:10, hpF:1, arrest:0.26, minutes:2, allowGear:true},
        // ... overige acties ...
      ],
      misdaden: [
        {key:'zakkenrollen', type:'crime', name:'Zakkenrollen op de markt', emoji:'ğŸ‘œ', base:0.25, cost:8, payout:[2,6], rep:1, heatS:4, heatF:7, hpF:1, arrest:0.22, minutes:2, allowGear:true},
        // ... overige acties ...
      ],
      werk: [
        {key:'knuffel', type:'work', name:'Poseren als knuffel', emoji:'ğŸ§¸', cost:8, payout:[3,7], rep:1},
        // ... overige acties ...
      ],
      shop: ['pistol','lockpick','shovel']
    };

    // De rest van de engine, renderers en event-bindings blijft ongewijzigd.
  </script>
</body>
</html>
